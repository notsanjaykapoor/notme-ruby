<div class="flex flex-row">
    <div class="flex flex-col mx-auto mt-10">
        <h3 class="font-bold mx-auto">
            <%= app_name %>
        </h3>
        <div class="mx-auto mt-2 opacity-50 text-xs text-zinc-400">
            @<%= app_version %>
        </div>
    </div>
</div>

<div class="flex flex-row mx-auto mt-10">
    <div class="w-1/12"></div>
    <div class="w-4/12">
        <input id="search" type="search" name="city" placeholder="search by city" value="" autocomplete="off" hx-get=<%= request_path %> class="peer px-0 h-full w-full border-b bg-transparent pb-1.5 text-xs font-normal text-gray-400 outline outline-0 transition-all placeholder-shown:border-blue-gray-200 focus:border-pink-600 focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50">
    </div>
    <div class="w-2/12"></div>
    <% if defined?(city_names) and city_names.length > 0 %>
        <div class="w-4/12 font-normal text-xs">
            <form class="max-w-sm mx-auto text-xs mr-0 mt-2">
                <select id="city-select" class="block px-0 pb-1.5 w-full text-xs text-gray-400 bg-transparent border-0 border-b border-gray-200 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer disabled:border-0 disabled:bg-blue-gray-50">
                    <option selected>select city</option>
                    <% for city_name in city_names %>
                        <option value="/maps/city/<%= city_name %>"><%= city_name %></option>
                    <% end %>
                </select>
            </form>
        </div>
    <% end %>
</div>


<script>
    // list for select change events and redirect to place city view
    const city_select = document.getElementById("city-select")

    if (city_select) {
        city_select.addEventListener("change", function() {
            window.location.href = city_select.value
        })
    }
</script>
